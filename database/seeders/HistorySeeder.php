<?php

namespace Database\Seeders;

use App\Models\Article;
use Carbon\Carbon;
use Illuminate\Support\Facades\Storage;
use Illuminate\Database\Console\Seeds\WithoutModelEvents;
use Illuminate\Database\Seeder;
use Illuminate\Support\Facades\File;

class HistorySeeder extends Seeder
{
    public function run(): void
    {
        $articles = [
            [
                'title' => 'Зарождение концептов TF2',
                'text' => 'Team Fortress 2 (TF2) — культовая командная шутер-игра, которая прошла долгий путь от скромного мода до одного из самых популярных multiplayer-проектов. Её концепция зародилась ещё в 1996 году, когда разработчики Робин Уокер и Джон Кук создали мод Team Fortress для Quake. Уникальная механика классов, командные взаимодействия и динамичный геймплей быстро завоевали популярность.

                В 1998 году Valve приобрела права на франшизу и анонсировала Team Fortress 2 как часть Half-Life. Однако игра претерпела множество изменений: изначально планировался реалистичный военный симулятор, но после долгих экспериментов разработчики остановились на стилизованной графике и чётком разделении ролей.

                Ключевой идеей TF2 стало создание баланса между разными классами, где каждый имел уникальные способности и слабости. Это позволяло игрокам работать в команде, а не просто бегать и стрелять. В итоге, после почти десяти лет разработки, в 2007 году вышла TF2 в том виде, который покорил миллионы — с яркой мультяшной эстетикой, юмором и глубокой стратегической составляющей.',
                'type' => 'history',
                'user_id' => 1,
            ],
            [
                'title' => 'Первые годы игры',
                'text' => 'После релиза в октябре 2007 года в составе The Orange Box Team Fortress 2 быстро завоевала любовь игроков. Первоначально игра предлагала шесть карт и девять классов, но даже этого хватило, чтобы создать невероятно увлекательный опыт.

                Разработчики активно поддерживали проект, выпуская бесплатные обновления. Уже в 2008 году появились новые режимы, такие как Payload и Achievement, а также первые дополнительные карты. Игроки оценили регулярный контент и юмористический стиль, который выражался в трейлерах и описаниях предметов.

                Важным моментом стало введение статистики и системы достижений, что мотивировало игроков осваивать разные классы. Сообщество начало активно создавать свои карты и моды, а Valve поддержала это, добавив Steam Workshop.

                Несмотря на конкуренцию с другими шутерами, TF2 выделялась своей уникальностью и подходом к балансу. Уже в первые годы игра сформировала преданную аудиторию, которая продолжает играть в неё даже спустя полтора десятилетия.',
                'type' => 'history',
                'user_id' => 1,
            ],
            [
                'title' => 'Обновление маннкономика',
                'text' => 'В 2010 году Valve выпустила одно из самых значимых обновлений — «Маннкономика» (Mann-conomy), которое полностью изменило экономику игры. Главным нововведением стала система предметов и микротранзакций: игроки могли получать случайные вещи, включая новое оружие и косметику.

                Ключевой особенностью стал инвентарь, который пополнялся либо со временем, либо через покупку ключей для ящиков. Это привнесло элемент коллекционирования: некоторые предметы стали редкими и ценными, создав активный рынок торговли.

                Обновление также добавило косметические предметы, позволявшие игрокам кастомизировать своих персонажей. Шляпы, аксессуары и необычные эффекты стали статусными символами.

                «Маннкономика» не только монетизировала игру, но и усилила её долголетие. Система торговли через Steam Market и обмен между игроками создали целую виртуальную экономику. Несмотря на критику за «лутбоксы», обновление стало поворотным моментом, показав, как free-to-play модель может работать без ущерба для игрового процесса.

                С тех пор TF2 остается не просто игрой, а культурным феноменом с живой экономикой и миллионами поклонников.',
                'type' => 'history',
                'user_id' => 1,
            ]

        ];

        foreach ($articles as $article) {
            // Генерируем случайную дату за последний месяц
            $randomDate = Carbon::now()->subDays(rand(0, 30))->subHours(rand(0, 23))->subMinutes(rand(0, 59));

            Article::create(array_merge($article, [
                'created_at' => $randomDate,
                'updated_at' => $randomDate,
            ]));
        }
    }


}
